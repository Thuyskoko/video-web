<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { 
            width: 100%; height: 100%; background: #0f172a; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden;
        }

        /* Live Badge Style */
        .live-header {
            display: flex; align-items: center; gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            padding: 6px 15px; border-radius: 20px;
            margin-bottom: 15px; border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .green-dot {
            width: 10px; height: 10px; background-color: #22c55e;
            border-radius: 50%; box-shadow: 0 0 10px #22c55e;
            animation: pulse-green 1.5s infinite;
        }

        @keyframes pulse-green {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }

        .live-text { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 1px; font-family: sans-serif; }

        .video-container {
            width: 95%; max-width: 850px; aspect-ratio: 16/9;
            background: #000; border-radius: 12px; overflow: hidden;
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.5); position: relative;
        }

        iframe, video { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

    <div class="live-header">
        <div class="green-dot"></div>
        <span class="live-text">LIVE</span>
    </div>

    <div class="video-container" id="player-container">
        </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDahNKp2jaiJSHzNkKw_VtcCR55y9-IHTQ",
            databaseURL: "https://lovely-7c35f-default-rtdb.asia-southeast1.firebasedatabase.app"
        };
        firebase.initializeApp(firebaseConfig);

        firebase.database().ref('video_data').on('value', (snapshot) => {
            const data = snapshot.val();
            const container = document.getElementById('player-container');
            if(!data) return;

            container.innerHTML = ""; 

            if (data.type === 'youtube') {
                container.innerHTML = `<iframe src="https://www.youtube-nocookie.com/embed/${data.current_id}?autoplay=1&rel=0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
            } else {
                container.innerHTML = `<video id="v-player" controls autoplay playsinline><source src="${data.current_id}" type="video/mp4"></video>`;
                const v = document.getElementById('v-player');
                v.play().catch(() => {});
            }
        });
    </script>
</body>
</html>
